{"ast":null,"code":"import _regeneratorRuntime from\"/Users/xichuang.chen/code/mycode/starter-aws/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/xichuang.chen/code/mycode/starter-aws/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/xichuang.chen/code/mycode/starter-aws/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/xichuang.chen/code/mycode/starter-aws/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/xichuang.chen/code/mycode/starter-aws/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/xichuang.chen/code/mycode/starter-aws/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Body=/*#__PURE__*/function(_Component){_inherits(Body,_Component);var _super=_createSuper(Body);function Body(props){var _this;_classCallCheck(this,Body);_this=_super.call(this,props);_this.headerData=[\"date\",\"topic\",\"data\"];_this.state={data:null};return _this;}_createClass(Body,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var requestOptions,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// POST request using fetch with async/await\nrequestOptions={method:'GET',headers:{'Content-Type':'application/json'}// body: JSON.stringify({ title: 'React POST Request Example' })\n};console.log(\"get data from backend\");_context.next=4;return fetch('http://localhost:8080/kafka/data',requestOptions);case 4:response=_context.sent;console.log(\"response: \",response);_context.next=8;return response.json();case 8:data=_context.sent;console.log(\"data: \",data);this.setState({data:data});case 11:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"header\",{className:\"main-header visible\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"tabel\",border:\"2\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"theads\",onClick:this.sort,children:/*#__PURE__*/_jsx(\"tr\",{children:this.headerData.map(function(head,index){return/*#__PURE__*/_jsx(\"th\",{children:head},index);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.data&&this.state.data.map(function(row,index){console.log(\"row: \",row);return/*#__PURE__*/_jsx(\"tr\",{children:Object.getOwnPropertyNames(row).map(function(key1){return/*#__PURE__*/_jsx(\"td\",{children:row[key1]});})},index);})})]})})});}}]);return Body;}(Component);export{Body as default};","map":{"version":3,"sources":["/Users/xichuang.chen/code/mycode/starter-aws/frontend/src/component/Body.js"],"names":["React","Component","Body","props","headerData","state","data","requestOptions","method","headers","console","log","fetch","response","json","setState","sort","map","head","index","row","Object","getOwnPropertyNames","key1"],"mappings":"q/BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,C,2FAEqBC,CAAAA,I,4FACjB,cAAYC,KAAZ,CAAmB,sCACf,uBAAMA,KAAN,EAEA,MAAKC,UAAL,CAAkB,CAAC,MAAD,CAAQ,OAAR,CAAgB,MAAhB,CAAlB,CACA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,IADG,CAAb,CAJe,aAOlB,C,4IAGD,oKACI;AACMC,cAFV,CAE2B,CACnBC,MAAM,CAAE,KADW,CAEnBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CACT;AAHmB,CAF3B,CAOIC,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAPJ,sBAQ2BC,CAAAA,KAAK,CAAC,kCAAD,CAAqCL,cAArC,CARhC,QAQUM,QARV,eASIH,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BE,QAA1B,EATJ,sBAUuBA,CAAAA,QAAQ,CAACC,IAAT,EAVvB,QAUUR,IAVV,eAWII,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBL,IAAtB,EAEA,KAAKS,QAAL,CAAc,CAAET,IAAI,CAAEA,IAAR,CAAd,EAbJ,4D,mIAiBA,iBAAS,CACL,mBACI,eAAQ,SAAS,CAAC,qBAAlB,uBACI,kCACI,eAAO,SAAS,CAAC,OAAjB,CAAyB,MAAM,CAAC,GAAhC,wBACI,cAAO,SAAS,CAAC,QAAjB,CAA0B,OAAO,CAAE,KAAKU,IAAxC,uBACA,oBAEQ,KAAKZ,UAAL,CAAgBa,GAAhB,CAAoB,SAACC,IAAD,CAAMC,KAAN,qBAChB,oBAAiBD,IAAjB,EAASC,KAAT,CADgB,EAApB,CAFR,EADA,EADJ,cASI,uBAEI,KAAKd,KAAL,CAAWC,IAAX,EAAmB,KAAKD,KAAL,CAAWC,IAAX,CAAgBW,GAAhB,CAAoB,SAACG,GAAD,CAAKD,KAAL,CAAa,CAChDT,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBS,GAArB,EACA,mBAAQ,oBAEIC,MAAM,CAACC,mBAAP,CAA2BF,GAA3B,EAAgCH,GAAhC,CAAoC,SAACM,IAAD,qBAAU,oBAAKH,GAAG,CAACG,IAAD,CAAR,EAAV,EAApC,CAFJ,EAASJ,KAAT,CAAR,CAMH,CARkB,CAFvB,EATJ,GADJ,EADJ,EADJ,CA6BH,C,kBA1D6BlB,S,SAAbC,I","sourcesContent":["import React, {Component} from 'react';\n\nexport default class Body extends Component {\n    constructor(props) {\n        super(props);\n\n        this.headerData = [\"date\",\"topic\",\"data\"];\n        this.state = {\n            data: null\n        };\n    }\n\n\n    async componentDidMount() {\n        // POST request using fetch with async/await\n        const requestOptions = {\n            method: 'GET',\n            headers: { 'Content-Type': 'application/json' },\n            // body: JSON.stringify({ title: 'React POST Request Example' })\n        };\n        console.log(\"get data from backend\");\n        const response = await fetch('http://localhost:8080/kafka/data', requestOptions);\n        console.log(\"response: \", response);\n        const data = await response.json();\n        console.log(\"data: \", data);\n\n        this.setState({ data: data });\n\n    }\n\n    render() {\n        return (\n            <header className=\"main-header visible\">\n                <div>\n                    <table className='tabel' border=\"2\">\n                        <thead className='theads' onClick={this.sort}>\n                        <tr>\n                            {\n                                this.headerData.map((head,index)=>\n                                    <th key={index}>{head}</th> )\n                            }\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {\n                            this.state.data && this.state.data.map((row,index)=>{\n                                console.log(\"row: \", row);\n                                return (<tr key={index}>\n                                        {\n                                            Object.getOwnPropertyNames(row).map((key1) => <td>{row[key1]}</td>)\n                                        }\n                                    </tr>\n                                )\n                            })\n                        }\n                        </tbody>\n                    </table>\n                </div>\n            </header>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}